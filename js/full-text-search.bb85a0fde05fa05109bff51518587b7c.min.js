(async function(){const s=e=>e.toLowerCase().split(/([^a-z]|[^\x00-\x7F])/),t=new FlexSearch.Document({cache:!0,charset:"latin:extra",optimize:!0,index:[{field:"content",tokenize:"forward",encode:!1,split:/\s+/},{field:"title",tokenize:"forward",encode:!1,split:/\s+/}]}),{content:e}=await fetchData;for(const[s,n]of Object.entries(e))t.add({id:s,title:n.title,content:removeMarkdown(n.content)});const n=t=>({id:t,url:t,title:e[t].title,content:e[t].content});registerHandlers(o=>{const e=o.target.value,i=t.search(e,[{field:"content",limit:10},{field:"title",limit:5}]),s=t=>{const e=i.filter(e=>e.field===t);return e.length===0?[]:[...e[0].result]},a=new Set([...s("title"),...s("content")]),r=[...a].map(n);displayResults(e,r,!0)})})()